## Datadog Agent Configuration for OTLP Ingestion

api_key: ${DD_API_KEY}
site: ${DD_SITE}

## APM Configuration
apm_config:
  enabled: true
  apm_non_local_traffic: true

## OTLP Ingestion Configuration
otlp_config:
  # Enable OTLP receiver
  receiver:
    protocols:
      # gRPC endpoint configuration
      grpc:
        endpoint: 0.0.0.0:4317
      # HTTP endpoint configuration
      http:
        endpoint: 0.0.0.0:4318

  # Enable trace ingestion
  traces:
    enabled: true

  # Enable metrics ingestion
  metrics:
    enabled: true
    # Add resource attributes as tags
    resource_attributes_as_tags: true
    # Histogram mode: distributions (recommended) or counters
    histograms:
      mode: distributions

## DogStatsD Configuration
dogstatsd_non_local_traffic: true

## Logging
logs_enabled: false
log_level: info
