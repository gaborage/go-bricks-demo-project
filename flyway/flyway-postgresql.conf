# Flyway Configuration for PostgreSQL
# This configuration is used by the go-bricks migration module
# Environment variables are automatically set by go-bricks based on database config

# Database connection (environment variables set by go-bricks)
flyway.url=jdbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}
flyway.user=${DB_USER}
flyway.password=${DB_PASSWORD}

# Schema management
flyway.schemas=public
flyway.defaultSchema=public

# Migration settings
flyway.table=flyway_schema_history
flyway.baselineOnMigrate=true
flyway.validateMigrationNaming=true
flyway.outOfOrder=false

# Placeholder replacement (allows parameterized SQL)
flyway.placeholderReplacement=true
flyway.placeholders.env=${flyway.env}
flyway.placeholders.appName=go-bricks-demo

# Encoding
flyway.encoding=UTF-8

# Mixed mode (allow both versioned and repeatable migrations)
flyway.mixed=true

# Validation
flyway.validateOnMigrate=true

# Logging
flyway.loggers=console
